subprojects {
    apply plugin: 'java'

    repositories {
        mavenCentral()
        flatDir { dirs '../lib' }
    }

    dependencies {
        compile("org.slf4j:slf4j-api:")
        compile("org.eclipse.persistence:javax.persistence:")
        compile("org.eclipse.persistence:org.eclipse.persistence.jpa:")
        compile("javax.validation:validation-api:1.1.0.Final")

        runtime("ch.qos.logback:logback-classic:1.1.2")
    }

    configurations.all {
        resolutionStrategy.eachDependency { DependencyResolveDetails details ->
            if (details.requested.group == 'org.hsqldb') {
                details.useVersion '2.3.2'
            } else if (details.requested.group == 'org.slf4j') {
                details.useVersion '1.7.7'
            } else if (details.requested.group == 'commons-logging') {
                details.useVersion '1.1.3'
            } else if (details.requested.group == 'javax.inject') {
                details.useVersion '1'
            } else if (details.requested.group == 'org.springframework') {
                details.useVersion '4.0.5.RELEASE'
            } else if (details.requested.group == 'org.springframework.security') {
                details.useVersion '3.2.4.RELEASE'
            } else if (details.requested.group == 'org.thymeleaf') {
                details.useVersion '2.1.3.RELEASE'
            } else if (details.requested.group == 'org.apache.bval') {
                details.useVersion '0.5'
            } else if (details.requested.group == 'org.aspectj') {
                details.useVersion '1.7.4'
            } else if (details.requested.group == 'junit') {
                details.useVersion '4.11'
            } else if (details.requested.group == 'javax.servlet') {
                details.useVersion '3.0.1'
            } else if (details.requested.name == 'javax.persistence') {
                details.useVersion '2.1.0'
            } else if (details.requested.group == 'org.eclipse.persistence') {
                details.useVersion '2.5.1'
            }
        }
    }
}

project(':basearch-webapp') {
    dependencies {
        compile project(path: ':basearch-model', configuration: 'woven')
    }
}

// Gradle wrapper task
// Only used when in need to reinstall the wrapper
task wrapper(type: Wrapper) {
    gradleVersion = '1.12'
}